<style>
    #clues-screen-wrapper {
        position: absolute;
        margin: 0px;
        /* border: 2px solid red; */
        top: 0px;
        left: 0px;
        bottom: 0px;
        right: 0px;
        overflow: hidden;
    }
    
    .clue-card {
        margin-bottom: 15px !important;
        border-radius: 10px !important;
        box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.12) !important;
    }
</style>
<div id="clues-screen-wrapper">
    <div class="ui container animated fadeInUp fast" id="clues-list-view">
    </div>
</div>
<template id="one-clue-template">
    {{#clues}}
    <br>
    <span class="ui label orange">
        <i class="time icon outline"></i>{{woo_points}}</span>
    <div class="ui fluid card clue-card" data-beacon-uri="{{id}}">
        <div class="content">
            <div class="header">{{item}}
            </div>
            <div class="meta">
                <span>{{location}}</span>
            </div>

            <div class="description">
                {{description}}
            </div>
        </div>

        <div class="extra content">
            <span class="right floated">
                <i class="microphone icon"></i>{{pocforcontent}}</span>
        </div>
    </div>
    {{/clues}}
</template>


<script>
    function renderClues(clue_data) {
        let template = $('#one-clue-template').html();
        let html = Mustache.to_html(template, {
            clues: clue_data
        });
        return html;
    }

    $(function() {
        console.log("current base url clues data path " + App.base_url);

        $.getScript(App.base_url + "/js/clues_data.js", function(jd) {
            console.log("Loaded clues data path " + App.clues);
            var html = renderClues(App.clues);
            $("#clues-list-view").html(html);

            $('.clue-card').off('click').on('click', function() {
                console.log("clue card cliced");
                // var clue_id = parseInt($(this).attr("data-beacon-uri"));
                var clue_id = $(this).attr("data-beacon-uri");
                console.log("Mood " + clue_id);
                App.current_clue_id = clue_id;
                App.FullScreen.show(App.base_url + "/screens/scavenger_scan.html");
            });
        });

    });
</script>